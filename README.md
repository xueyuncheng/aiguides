# aiguides

ä¸€ä¸ªåŸºäº Google ADK (Agent Development Kit) æ„å»ºçš„ AI åŠ©æ‰‹æ¡†æ¶ï¼Œæä¾›å¤šç§æ™ºèƒ½åŠ©æ‰‹æœåŠ¡ã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ—‚ï¸ ä¼šè¯ç®¡ç†ç³»ç»Ÿ â­ æ–°åŠŸèƒ½
å®Œæ•´çš„ç”¨æˆ·ä¼šè¯ç®¡ç†åŠŸèƒ½ï¼š
- **è‡ªåŠ¨ä¿å­˜ä¼šè¯**ï¼šæ‰€æœ‰å¯¹è¯ä¼šè¯è‡ªåŠ¨ä¿å­˜åˆ° SQLite æ•°æ®åº“
- **å†å²è®°å½•**ï¼šå¯ä»¥æŸ¥çœ‹å’Œæ¢å¤ä¹‹å‰çš„å¯¹è¯å†å²
- **ä¼šè¯åˆ‡æ¢**ï¼šåœ¨ä¾§è¾¹æ å¿«é€Ÿåˆ‡æ¢ä¸åŒçš„ä¼šè¯
- **ç‹¬ç«‹ç®¡ç†**ï¼šæ¯ä¸ª AI åŠ©æ‰‹çš„ä¼šè¯ç‹¬ç«‹å­˜å‚¨å’Œç®¡ç†
- **ä¼šè¯åˆ é™¤**ï¼šæ”¯æŒåˆ é™¤ä¸éœ€è¦çš„ä¼šè¯
- **å®æ—¶æ›´æ–°**ï¼šä¼šè¯åˆ—è¡¨æ˜¾ç¤ºæœ€æ–°æ¶ˆæ¯å’Œæ—¶é—´æˆ³

æœ¬é¡¹ç›®åŒ…å«ä»¥ä¸‹ AI åŠ©æ‰‹ï¼š

### 1. AI Assistantï¼ˆä¿¡æ¯æ£€ç´¢å’Œäº‹å®æ ¸æŸ¥ï¼‰
ä¸“é—¨ç”¨äºä¿¡æ¯æ£€ç´¢å’Œäº‹å®æ ¸æŸ¥çš„ AI åŠ©æ‰‹ï¼ŒåŒ…å«ä¸¤ä¸ªå­ä»£ç†ï¼š
- **SearchAgent**ï¼šä¸“ä¸šçš„ä¿¡æ¯æ£€ç´¢åŠ©æ‰‹ï¼Œä½¿ç”¨ GoogleSearch å·¥å…·è·å–å‡†ç¡®ã€å…¨é¢çš„ä¿¡æ¯
- **FactCheckAgent**ï¼šä¸¥è°¨çš„äº‹å®æ ¸æŸ¥ä¸“å®¶ï¼ŒéªŒè¯ä¿¡æ¯å‡†ç¡®æ€§å¹¶æä¾›å¯é çš„æœ€ç»ˆç­”æ¡ˆ

### 2. WebSummaryAgentï¼ˆç½‘é¡µå†…å®¹åˆ†æï¼‰
ä¸“ä¸šçš„ç½‘é¡µå†…å®¹åˆ†æåŠ©æ‰‹ï¼Œæ“…é•¿è®¿é—®ç½‘é¡µå¹¶æä¾›æ·±åº¦æ€»ç»“ï¼š
- è·å–ç½‘é¡µå†…å®¹
- åˆ†æä¸»è¦å†…å®¹å’Œç»“æ„
- æå–å…³é”®è¦ç‚¹å’Œé‡è¦æ•°æ®
- ç”Ÿæˆç»“æ„åŒ–çš„æ€»ç»“æŠ¥å‘Š

### 3. EmailSummaryAgentï¼ˆé‚®ä»¶æ™ºèƒ½æ€»ç»“ï¼‰â­ æ–°åŠŸèƒ½
ä¸“ä¸º macOS ç”¨æˆ·è®¾è®¡çš„ Apple Mail æ™ºèƒ½åˆ†æåŠ©æ‰‹ï¼Œèƒ½å¤Ÿï¼š
- ä» Apple Mail å®¢æˆ·ç«¯è¯»å–é‚®ä»¶
- æ™ºèƒ½è¯†åˆ«é‡è¦å’Œç´§æ€¥é‚®ä»¶
- æŒ‰ä¼˜å…ˆçº§ï¼ˆé«˜/ä¸­/ä½ï¼‰è‡ªåŠ¨åˆ†ç±»
- ç”Ÿæˆç»“æ„åŒ–çš„é‚®ä»¶æ€»ç»“æŠ¥å‘Šï¼ŒåŒ…æ‹¬ï¼š
  - é‚®ä»¶æ€»è§ˆç»Ÿè®¡
  - é‡è¦é‚®ä»¶æ¸…å•ï¼ˆä¸»é¢˜ã€å‘ä»¶äººã€æ‘˜è¦ï¼‰
  - å»ºè®®è¡ŒåŠ¨é¡¹

**ä½¿ç”¨è¦æ±‚ï¼š**
- macOS ç³»ç»Ÿ
- Apple Mail åº”ç”¨æ­£åœ¨è¿è¡Œ
- å·²æˆäºˆè„šæœ¬è®¿é—®æƒé™

### 4. TravelAgentï¼ˆæ—…æ¸¸è§„åˆ’åŠ©æ‰‹ï¼‰â­ æ–°å¢åœ°å›¾åŠŸèƒ½
ä¸“ä¸šçš„æ—…æ¸¸è§„åˆ’åŠ©æ‰‹ï¼Œæ ¹æ®ç”¨æˆ·çš„æ—…æ¸¸æ—¶é—´å’Œç›®çš„åœ°æä¾›è¯¦ç»†çš„æ—…æ¸¸è¡Œç¨‹è§„åˆ’ï¼š
- æ ¹æ®æ—…æ¸¸å¤©æ•°å’Œç›®çš„åœ°åˆ¶å®šè¯¦ç»†è¡Œç¨‹
- æœç´¢çƒ­é—¨æ™¯ç‚¹ã€ç¾é£Ÿã€æ–‡åŒ–ã€äº¤é€šç­‰ä¿¡æ¯
- æä¾›æ¯æ—¥è¯¦ç»†è¡Œç¨‹å®‰æ’ï¼ˆä¸Šåˆã€ä¸‹åˆã€æ™šä¸Šï¼‰
- æ¨èä½å®¿ã€äº¤é€šã€ç¾é£Ÿç­‰å®ç”¨ä¿¡æ¯
- ä¼°ç®—æ—…æ¸¸é¢„ç®—
- **è‡ªåŠ¨ç”Ÿæˆ Google Maps åœ°å›¾é“¾æ¥ï¼Œåœ¨åœ°å›¾ä¸Šæ˜¾ç¤ºæ‰€æœ‰é‡ç‚¹åœ°ç‚¹** ğŸ—ºï¸

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Go 1.25.5 æˆ–æ›´é«˜ç‰ˆæœ¬
- Google Gemini API Key
- Node.js 20+ å’Œ npmï¼ˆç”¨äºå‰ç«¯ç•Œé¢ï¼‰

### ä¸€é”®å¯åŠ¨ ğŸš€ï¼ˆæ¨èï¼‰

1. å…‹éš†é¡¹ç›®ï¼š
```bash
git clone https://github.com/xueyuncheng/aiguides.git
cd aiguides
```

2. é…ç½® API Keyï¼š
ç¼–è¾‘ `cmd/aiguide/aiguide.yaml` æ–‡ä»¶ï¼Œè®¾ç½®ä½ çš„ Google Gemini API Keyï¼š
```yaml
api_key: your_api_key_here
model_name: gemini-2.0-flash-exp
use_gin: true        # ä½¿ç”¨ Gin æ¡†æ¶æä¾› REST API
gin_port: 8080       # API æœåŠ¡ç«¯å£
```

**é…ç½®è¯´æ˜ï¼š**
- `api_key`: Google Gemini API Keyï¼ˆå¿…éœ€ï¼‰
- `model_name`: ä½¿ç”¨çš„æ¨¡å‹åç§°ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¸º gemini-2.0-flash-expï¼‰
- `use_gin`: æ˜¯å¦ä½¿ç”¨ Gin æ¡†æ¶ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¸º falseï¼‰
  - `true`: ä½¿ç”¨ Gin æ¡†æ¶æä¾› REST APIï¼Œé€‚åˆä¸å‰ç«¯é…åˆä½¿ç”¨
  - `false`: ä½¿ç”¨ ADK å†…ç½®çš„ Web UI å’Œ API
- `gin_port`: Gin æœåŠ¡å™¨ç«¯å£ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä¸º 8080ï¼‰

3. ä½¿ç”¨å¯åŠ¨è„šæœ¬åŒæ—¶å¯åŠ¨åç«¯å’Œå‰ç«¯ï¼š
```bash
./start.sh
```

è¯¥è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- å®‰è£…å‰ç«¯ä¾èµ–ï¼ˆå¦‚æœè¿˜æœªå®‰è£…ï¼‰
- å¯åŠ¨åç«¯æœåŠ¡ï¼ˆç«¯å£ 8080ï¼‰
- å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆç«¯å£ 3000ï¼‰

4. è®¿é—®åº”ç”¨ï¼š
æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://localhost:3000](http://localhost:3000)

### æ‰‹åŠ¨å¯åŠ¨

#### åç«¯å®‰è£…ä¸è¿è¡Œ

1. æ„å»ºé¡¹ç›®ï¼š
```bash
go build -o aiguide ./cmd/aiguide/
```

2. è¿è¡Œåç«¯æœåŠ¡ï¼š
```bash
./aiguide -f cmd/aiguide/aiguide.yaml
```

æˆ–ç›´æ¥è¿è¡Œï¼š
```bash
go run cmd/aiguide/aiguide.go -f cmd/aiguide/aiguide.yaml
```

åç«¯æœåŠ¡å°†å¯åŠ¨åœ¨ `http://localhost:8080`ã€‚

**è¿è¡Œæ¨¡å¼ï¼š**
- **Gin æ¨¡å¼**ï¼ˆæ¨èï¼‰ï¼šå½“é…ç½®æ–‡ä»¶ä¸­ `use_gin: true` æ—¶ï¼Œåç«¯ä½¿ç”¨ Gin æ¡†æ¶æä¾› REST APIï¼Œæä¾›ä»¥ä¸‹ç«¯ç‚¹ï¼š
  - `POST /api/v1/agents/:agentId/sessions/:sessionId` - Agent ä¼šè¯æ¥å£ï¼ˆæ”¯æŒæµå¼å“åº”ï¼‰
  - `GET /health` - å¥åº·æ£€æŸ¥æ¥å£
  - è‡ªåŠ¨æ”¯æŒ CORS è·¨åŸŸè¯·æ±‚
  - é€‚åˆä¸å‰ç«¯ Next.js åº”ç”¨é…åˆä½¿ç”¨

- **ADK æ¨¡å¼**ï¼šå½“é…ç½®æ–‡ä»¶ä¸­ `use_gin: false` æˆ–æœªè®¾ç½®æ—¶ï¼Œä½¿ç”¨ ADK å†…ç½®çš„ Web UI å’Œ APIã€‚

#### å‰ç«¯å®‰è£…ä¸è¿è¡Œ â­ æ–°å¢ Next.js ç•Œé¢

æœ¬é¡¹ç›®ç°åœ¨åŒ…å«ä¸€ä¸ªåŸºäº Next.js çš„ç°ä»£åŒ–å‰ç«¯ç•Œé¢ï¼

1. è¿›å…¥å‰ç«¯ç›®å½•ï¼š
```bash
cd frontend
```

2. å®‰è£…ä¾èµ–ï¼š
```bash
npm install
```

3. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨ï¼š
```bash
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:3000` å¯åŠ¨ã€‚

4. è®¿é—®åº”ç”¨ï¼š
æ‰“å¼€æµè§ˆå™¨è®¿é—® [http://localhost:3000](http://localhost:3000)

**å‰ç«¯ç‰¹æ€§ï¼š**
- ğŸ¨ ç°ä»£åŒ–çš„ç”¨æˆ·ç•Œé¢ï¼Œæ”¯æŒæš—è‰²æ¨¡å¼
- ğŸ’¬ å®æ—¶æµå¼å¯¹è¯äº¤äº’
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œå®Œç¾æ”¯æŒç§»åŠ¨ç«¯
- âš¡ å¿«é€Ÿã€æµç•…çš„ç”¨æˆ·ä½“éªŒ
- ğŸ—‚ï¸ **ä¼šè¯ç®¡ç†** - ä¿å­˜å’Œåˆ‡æ¢å¤šä¸ªå¯¹è¯ä¼šè¯
  - è‡ªåŠ¨ä¿å­˜æ¯ä¸ªä¼šè¯çš„å¯¹è¯å†å²
  - ä¾§è¾¹æ æ˜¾ç¤ºæ‰€æœ‰ä¼šè¯ï¼Œæ”¯æŒå¿«é€Ÿåˆ‡æ¢
  - æ˜¾ç¤ºä¼šè¯åˆ›å»ºæ—¶é—´å’Œæ¶ˆæ¯é¢„è§ˆ
  - æ”¯æŒåˆ›å»ºæ–°ä¼šè¯å’Œåˆ é™¤æ—§ä¼šè¯
  - æ¯ä¸ª AI åŠ©æ‰‹çš„ä¼šè¯ç‹¬ç«‹ç®¡ç†

è¯¦ç»†çš„å‰ç«¯ä½¿ç”¨è¯´æ˜è¯·æŸ¥çœ‹ [frontend/README.md](frontend/README.md)ã€‚

## ä½¿ç”¨ç¤ºä¾‹

### æ—…æ¸¸è§„åˆ’åŠ©æ‰‹ä½¿ç”¨ç¤ºä¾‹

ä¸ TravelAgent äº¤äº’æ—¶ï¼Œæ‚¨å¯ä»¥è¿™æ ·æé—®ï¼š

```
æˆ‘è®¡åˆ’å»æ—¥æœ¬ä¸œäº¬æ—…æ¸¸ 5 å¤©ï¼Œè¯·å¸®æˆ‘åˆ¶å®šè¯¦ç»†çš„æ—…æ¸¸è®¡åˆ’ã€‚
```

```
æˆ‘æƒ³åœ¨æ³°å›½æ›¼è°·ç© 3 å¤©ï¼Œé¢„ç®—æœ‰é™ï¼Œè¯·æ¨èç»æµå®æƒ çš„è¡Œç¨‹ã€‚
```

```
å¸®æˆ‘è§„åˆ’ä¸€ä¸ªå·´é» 7 æ—¥æ¸¸çš„è¡Œç¨‹ï¼Œæˆ‘å¯¹è‰ºæœ¯å’Œç¾é£Ÿç‰¹åˆ«æ„Ÿå…´è¶£ã€‚
```

AI åŠ©æ‰‹ä¼šä¸ºæ‚¨æä¾›ï¼š
- ç›®çš„åœ°æ¦‚è§ˆå’ŒåŸºæœ¬ä¿¡æ¯
- æ¯æ—¥è¯¦ç»†è¡Œç¨‹å®‰æ’
- æ™¯ç‚¹æ¨èå’Œäº¤é€šæŒ‡å—
- ç¾é£Ÿæ¨èå’Œé¤å…å»ºè®®
- ä½å®¿åŒºåŸŸæ¨è
- é¢„ç®—ä¼°ç®—
- å®ç”¨æ—…æ¸¸å»ºè®®
- **Google Maps åœ°å›¾é“¾æ¥ï¼Œå¯è§†åŒ–å±•ç¤ºæ‰€æœ‰é‡ç‚¹åœ°ç‚¹**

**åœ°å›¾åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- è‡ªåŠ¨è¯†åˆ«è¡Œç¨‹ä¸­çš„å…³é”®ä½ç½®ï¼ˆæ™¯ç‚¹ã€é¤å…ã€é…’åº—ç­‰ï¼‰
- ç”Ÿæˆå¯ç‚¹å‡»çš„ Google Maps é“¾æ¥
- æ”¯æŒå•ä¸ªåœ°ç‚¹æˆ–å¤šä¸ªåœ°ç‚¹çš„è·¯çº¿è§„åˆ’
- å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ç›´æ¥æ‰“å¼€åœ°å›¾æŸ¥çœ‹ä½ç½®

### é‚®ä»¶æ€»ç»“

åœ¨ Web UI æˆ– API ä¸­ä¸ EmailSummaryAgent äº¤äº’ï¼š

```
è¯·å¸®æˆ‘æ€»ç»“ä¸€ä¸‹æ”¶ä»¶ç®±ä¸­çš„é‡è¦é‚®ä»¶
```

æˆ–æŒ‡å®šå‚æ•°ï¼š

```
è¯·è·å–æœ€è¿‘ 20 å°é‚®ä»¶å¹¶æ€»ç»“å…¶ä¸­çš„é‡è¦å†…å®¹
```

AI åŠ©æ‰‹å°†ï¼š
1. è°ƒç”¨ `fetch_apple_mail` å·¥å…·è¯»å–é‚®ä»¶
2. åˆ†æé‚®ä»¶å†…å®¹å’Œé‡è¦æ€§
3. æŒ‰ä¼˜å…ˆçº§åˆ†ç±»
4. ç”Ÿæˆæ€»ç»“æŠ¥å‘Š

## é¡¹ç›®ç»“æ„

```
aiguides/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ aiguide/
â”‚       â”œâ”€â”€ aiguide.go      # åº”ç”¨å…¥å£
â”‚       â”œâ”€â”€ aiguide.yaml    # é…ç½®æ–‡ä»¶
â”‚       â””â”€â”€ logger.go       # æ—¥å¿—é…ç½®
â”œâ”€â”€ frontend/               # Next.js å‰ç«¯ç•Œé¢ â­ æ–°å¢
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ page.tsx        # é¦–é¡µ - Agent é€‰æ‹©ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ chat/           # èŠå¤©ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ layout.tsx      # æ ¹å¸ƒå±€
â”‚   â”‚   â””â”€â”€ globals.css     # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ public/             # é™æ€èµ„æº
â”‚   â”œâ”€â”€ next.config.ts      # Next.js é…ç½®
â”‚   â””â”€â”€ package.json        # å‰ç«¯ä¾èµ–
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â””â”€â”€ aiguide/
â”‚   â”‚       â”œâ”€â”€ aiguide.go      # ä¸»åº”ç”¨é€»è¾‘
â”‚   â”‚       â”œâ”€â”€ introduce.go    # ä¿¡æ¯æ£€ç´¢å’Œäº‹å®æ ¸æŸ¥ä»£ç†
â”‚   â”‚       â”œâ”€â”€ websummary.go   # ç½‘é¡µæ€»ç»“ä»£ç†
â”‚   â”‚       â”œâ”€â”€ emailsummary.go # é‚®ä»¶æ€»ç»“ä»£ç†
â”‚   â”‚       â””â”€â”€ travelagent.go  # æ—…æ¸¸è§„åˆ’ä»£ç†
â”‚   â””â”€â”€ pkg/
â”‚       â””â”€â”€ tools/
â”‚           â”œâ”€â”€ webfetch.go     # ç½‘é¡µè·å–å·¥å…·
â”‚           â”œâ”€â”€ mailfetch.go    # Apple Mail é‚®ä»¶è·å–å·¥å…·
â”‚           â””â”€â”€ googlemaps.go   # Google Maps åœ°å›¾ç”Ÿæˆå·¥å…·
â”œâ”€â”€ go.mod
â””â”€â”€ README.md
```

## å¼€å‘

### ä»£ç æ ¼å¼åŒ–
```bash
make fmt
```

æˆ–ï¼š
```bash
go fmt ./...
```

### æ·»åŠ æ–°çš„ Agent

è¦æ·»åŠ æ–°çš„ AI åŠ©æ‰‹ï¼Œè¯·å‚è€ƒç°æœ‰çš„ agent å®ç°ï¼ˆå¦‚ `travelagent.go` æˆ– `emailsummary.go`ï¼‰ï¼Œéµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. åœ¨ `internal/app/aiguide/` ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ agent æ–‡ä»¶
2. å®ç° `NewXXXAgent(model model.LLM)` å‡½æ•°
3. åœ¨ `aiguide.go` çš„ `New()` å‡½æ•°ä¸­æ³¨å†Œæ–°çš„ agent
4. å°†æ–° agent æ·»åŠ åˆ° `agent.NewMultiLoader()` ä¸­

### æ·»åŠ æ–°çš„å·¥å…·

1. åœ¨ `internal/pkg/tools/` ä¸­åˆ›å»ºå·¥å…·æ–‡ä»¶
2. å®šä¹‰è¾“å…¥/è¾“å‡ºç»“æ„ä½“
3. ä½¿ç”¨ `functiontool.New()` åˆ›å»ºå·¥å…·
4. åœ¨ç›¸åº”çš„ä»£ç†é…ç½®ä¸­æ·»åŠ å·¥å…·

**å·²æœ‰å·¥å…·ç¤ºä¾‹ï¼š**
- `webfetch.go` - ç½‘é¡µå†…å®¹è·å–å·¥å…·
- `mailfetch.go` - Apple Mail é‚®ä»¶è¯»å–å·¥å…·
- `googlemaps.go` - Google Maps åœ°å›¾é“¾æ¥ç”Ÿæˆå·¥å…·

### å‰ç«¯å¼€å‘

1. è¿›å…¥å‰ç«¯ç›®å½•ï¼š`cd frontend`
2. å®‰è£…ä¾èµ–ï¼š`npm install`
3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š`npm run dev`
4. ä¿®æ”¹ `app/` ç›®å½•ä¸‹çš„ç»„ä»¶å’Œé¡µé¢
5. ä½¿ç”¨ TypeScript ç¡®ä¿ç±»å‹å®‰å…¨
6. éµå¾ªç°æœ‰çš„ä»£ç é£æ ¼å’Œ React æœ€ä½³å®è·µ

è¯¦ç»†çš„å‰ç«¯å¼€å‘è¯´æ˜è¯·æŸ¥çœ‹ [frontend/README.md](frontend/README.md)ã€‚

## å¸¸è§é—®é¢˜

### å‰ç«¯æ— æ³•è¿æ¥åˆ°åç«¯ï¼Ÿ

1. ç¡®ä¿åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œï¼ˆé»˜è®¤ç«¯å£ 8080ï¼‰
2. æ£€æŸ¥ `frontend/.env.local` ä¸­çš„ `NEXT_PUBLIC_API_URL` é…ç½®
3. ç¡®è®¤é˜²ç«å¢™æ²¡æœ‰é˜»æ­¢ç«¯å£è®¿é—®

### EmailSummaryAgent æ— æ³•è®¿é—®é‚®ä»¶ï¼Ÿ

1. ç¡®ä¿åœ¨ macOS ç³»ç»Ÿä¸Šè¿è¡Œ
2. ç¡®ä¿ Apple Mail åº”ç”¨æ­£åœ¨è¿è¡Œ
3. é¦–æ¬¡ä½¿ç”¨æ—¶ï¼Œç³»ç»Ÿå¯èƒ½ä¼šè¦æ±‚æˆäºˆè„šæœ¬è®¿é—®æƒé™
4. åœ¨"ç³»ç»Ÿåå¥½è®¾ç½® > å®‰å…¨æ€§ä¸éšç§ > éšç§ > è‡ªåŠ¨åŒ–"ä¸­ç¡®è®¤æƒé™è®¾ç½®

### å¦‚ä½•è‡ªå®šä¹‰é‚®ç®±ï¼Ÿ

åœ¨ä¸ EmailSummaryAgent äº¤äº’æ—¶å¯ä»¥æŒ‡å®šï¼š

```
è¯·å¸®æˆ‘æ€»ç»“"å·¥ä½œ"é‚®ç®±ä¸­çš„é‚®ä»¶
```

é»˜è®¤ä½¿ç”¨ INBOXï¼ˆæ”¶ä»¶ç®±ï¼‰ã€‚

### Google Maps åœ°å›¾å¦‚ä½•ä½¿ç”¨ï¼Ÿ

TravelAgent ä¼šè‡ªåŠ¨åœ¨ç”Ÿæˆæ—…æ¸¸è¡Œç¨‹æ—¶è°ƒç”¨ Google Maps å·¥å…·ï¼š
1. è¯†åˆ«è¡Œç¨‹ä¸­çš„å…³é”®åœ°ç‚¹ï¼ˆæ™¯ç‚¹ã€é¤å…ã€é…’åº—ç­‰ï¼‰
2. è‡ªåŠ¨ç”ŸæˆåŒ…å«è¿™äº›åœ°ç‚¹çš„ Google Maps é“¾æ¥
3. ç”¨æˆ·å¯ä»¥ç›´æ¥ç‚¹å‡»é“¾æ¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹åœ°å›¾
4. æ”¯æŒå•ä¸ªåœ°ç‚¹æŸ¥çœ‹æˆ–å¤šåœ°ç‚¹è·¯çº¿è§„åˆ’

æ— éœ€ä»»ä½•é…ç½®ï¼Œåªéœ€æ­£å¸¸ä½¿ç”¨ TravelAgent å³å¯ã€‚

## æŠ€æœ¯æ ˆ

- **åç«¯æ¡†æ¶**ï¼š
  - Google ADK (Agent Development Kit) - AI Agent æ¡†æ¶
  - Gin - HTTP Web æ¡†æ¶ï¼ˆç”¨äºæä¾› REST APIï¼‰
  - SQLite - ä¼šè¯æ•°æ®æŒä¹…åŒ–å­˜å‚¨
- **AI æ¨¡å‹**ï¼šGoogle Gemini
- **è¯­è¨€**ï¼šGo 1.25.5
- **å‰ç«¯**ï¼šNext.js 16, React 19, TypeScript, Tailwind CSS
- **å·¥å…·**ï¼šGoogleSearch, è‡ªå®šä¹‰å·¥å…·ï¼ˆWebFetchã€MailFetchã€GoogleMapsï¼‰

## API æ¥å£

å½“ä½¿ç”¨ Gin æ¨¡å¼ï¼ˆ`use_gin: true`ï¼‰æ—¶ï¼Œåç«¯æä¾›ä»¥ä¸‹ REST APIï¼š

### èŠå¤©æ¥å£

#### POST /api/:agentId/chats/:sessionId

ä¸æŒ‡å®š Agent è¿›è¡Œå¯¹è¯ã€‚

**å¯ç”¨çš„ Agent IDï¼š**
- `assistant` - AI Assistantï¼ˆä¿¡æ¯æ£€ç´¢å’Œäº‹å®æ ¸æŸ¥ï¼‰
- `websummary` - WebSummary Agentï¼ˆç½‘é¡µå†…å®¹åˆ†æï¼‰
- `emailsummary` - EmailSummary Agentï¼ˆé‚®ä»¶æ™ºèƒ½æ€»ç»“ï¼‰
- `travel` - Travel Agentï¼ˆæ—…æ¸¸è§„åˆ’åŠ©æ‰‹ï¼‰

**è¯·æ±‚ç¤ºä¾‹ï¼š**
```bash
curl -X POST http://localhost:8080/api/assistant/chats/session-123 \
  -H "Content-Type: application/json" \
  -d '{"user_id": "user-123", "session_id": "session-123", "message": "ä»€ä¹ˆæ˜¯é‡å­è®¡ç®—ï¼Ÿ"}'
```

**å“åº”æ ¼å¼ï¼š**
Server-Sent Events (SSE) æµå¼å“åº”ï¼š
```
data: {"content":"é‡å­è®¡ç®—æ˜¯..."}
data: {"content":"åŸºäºé‡å­åŠ›å­¦..."}
event: stop
data: {"status":"done"}
```

### ä¼šè¯ç®¡ç†æ¥å£

#### GET /api/:agentId/sessions

è·å–æŒ‡å®šç”¨æˆ·åœ¨è¯¥ Agent ä¸‹çš„æ‰€æœ‰ä¼šè¯åˆ—è¡¨ã€‚

**è¯·æ±‚å‚æ•°ï¼š**
- `user_id` (query, required): ç”¨æˆ· ID

**è¯·æ±‚ç¤ºä¾‹ï¼š**
```bash
curl http://localhost:8080/api/assistant/sessions?user_id=user-123
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
[
  {
    "session_id": "session-20260101-120000-abc123",
    "app_name": "assistant",
    "user_id": "user-123",
    "last_update_time": "2026-01-01T12:30:00Z",
    "message_count": 5,
    "first_message": "ä»€ä¹ˆæ˜¯é‡å­è®¡ç®—ï¼Ÿ"
  }
]
```

#### GET /api/:agentId/sessions/:sessionId/history

è·å–æŒ‡å®šä¼šè¯çš„å®Œæ•´å¯¹è¯å†å²ã€‚

**è¯·æ±‚å‚æ•°ï¼š**
- `user_id` (query, required): ç”¨æˆ· ID

**è¯·æ±‚ç¤ºä¾‹ï¼š**
```bash
curl http://localhost:8080/api/assistant/sessions/session-123/history?user_id=user-123
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "session_id": "session-123",
  "app_name": "assistant",
  "user_id": "user-123",
  "messages": [
    {
      "id": "msg-1",
      "timestamp": "2026-01-01T12:00:00Z",
      "role": "user",
      "content": "ä»€ä¹ˆæ˜¯é‡å­è®¡ç®—ï¼Ÿ"
    },
    {
      "id": "msg-2",
      "timestamp": "2026-01-01T12:00:05Z",
      "role": "assistant",
      "content": "é‡å­è®¡ç®—æ˜¯ä¸€ç§åˆ©ç”¨é‡å­åŠ›å­¦åŸç†è¿›è¡Œä¿¡æ¯å¤„ç†çš„è®¡ç®—æ–¹å¼..."
    }
  ]
}
```

#### POST /api/:agentId/sessions

åˆ›å»ºä¸€ä¸ªæ–°çš„ä¼šè¯ã€‚

**è¯·æ±‚ä½“ï¼š**
```json
{
  "user_id": "user-123"
}
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "session_id": "session-20260101-120000-abc123",
  "created_at": "2026-01-01T12:00:00Z"
}
```

#### DELETE /api/:agentId/sessions/:sessionId

åˆ é™¤æŒ‡å®šçš„ä¼šè¯åŠå…¶æ‰€æœ‰å†å²è®°å½•ã€‚

**è¯·æ±‚å‚æ•°ï¼š**
- `user_id` (query, required): ç”¨æˆ· ID

**è¯·æ±‚ç¤ºä¾‹ï¼š**
```bash
curl -X DELETE http://localhost:8080/api/assistant/sessions/session-123?user_id=user-123
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "message": "session deleted successfully"
}
```

## è®¸å¯è¯

è¯·å‚è€ƒé¡¹ç›® LICENSE æ–‡ä»¶ã€‚
